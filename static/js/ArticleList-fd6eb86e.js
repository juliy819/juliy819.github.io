import{g as V,a as j,f as z,_ as R,b as T}from"./index-15414ed8.js";import{_ as D}from"./Waves-e4859cde.js";import{c as f}from"./index-55d9f0ba.js";import{M as F}from"./MyImage-3d8873bc.js";import{_ as S}from"./Pagination.vue_vue_type_script_setup_true_lang-c22c867b.js";import{u as E}from"./vue-router-2a5450bb.js";import{v as O,w as P,o as Q,j as U}from"./naive-ui-b87942d2.js";import{l as q,r as l,w as G,b as H,S as u,aa as e,b0 as p,u as A,ah as t,bl as a,F as d,aP as J,R as r,aO as h,a8 as y,j as w,a9 as K}from"./@vue-2d0ddfb4.js";import"./pinia-948ba97c.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persist-4bd0ee57.js";import"./nprogress-29a3b628.js";import"./@babel-061b4810.js";import"./@vueuse-4d6fb19c.js";import"./js-cookie-cf83ad76.js";import"./axios-aba6f0e0.js";import"./dayjs-aaaa0bae.js";import"./swiper-d1934b6f.js";import"./ssr-window-c9202916.js";import"./@kangc-6220f0f5.js";import"./vue-a1bd1397.js";import"./markdown-it-emoji-4f1b57fa.js";import"./prismjs-08ac3f6b.js";import"./v-viewer-8afc779e.js";import"./viewerjs-3fd8af48.js";import"./vueuc-27e3b830.js";import"./evtd-b614532e.js";import"./seemly-76b7b838.js";import"./@css-render-c34b42f4.js";import"./vooks-d838407f.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-0dc9900e.js";import"./treemate-25c27bff.js";import"./async-validator-dee29e8b.js";import"./date-fns-975a2d8f.js";const W={class:"page-header"},X={class:"page-title"},Y=["src"],Z={class:"bg"},tt={class:"page-container"},et={class:"article-cover"},ot={class:"article-info"},at={class:"article-title"},st={class:"article-time"},rt={class:"tag-info"},nt={class:"article-info"},it=q({__name:"ArticleList",setup(ct){const I=V(),N=E(),_=l(0),m=l(0),k=l(""),c=l([]),n=l({current:1,size:8,categoryId:Number(N.params.id),tagId:0});return G(()=>n.value.current,()=>{f.getCategoryArticleList(n.value).then(({data:s})=>{c.value=s.data.articleConditionList}).catch(()=>{c.value=[]})}),H(()=>{f.countCategoryArticles(n.value).then(({data:s})=>{m.value=s.data}).catch(()=>{m.value=0}),f.getCategoryArticleList(n.value).then(({data:s})=>{c.value=s.data.articleConditionList,k.value=s.data.name,c.value.length>0?_.value=1:_.value=2}).catch(()=>{_.value=-1})}),(s,C)=>{const B=D,g=J("router-link"),L=R,b=O,x=P,i=Q,$=U,M=j;return r(),u(d,null,[e("div",W,[e("h1",X,p(k.value),1),e("img",{class:"page-cover",src:A(I),alt:""},null,8,Y),t(B)]),e("div",Z,[e("div",tt,[t(M,{status:_.value,"no-data-msg":"该分类下暂时还没有文章哦~","failed-msg":"文章列表加载失败"},{data:a(()=>[t(x,{"x-gap":"20","y-gap":"20",cols:"1 s:2 m:3 l:4",responsive:"screen"},{default:a(()=>[(r(!0),u(d,null,h(c.value,o=>(r(),y(b,{class:"article-item",key:o.id},{default:a(()=>[e("div",et,[t(g,{to:`/article/${o.id}`},{default:a(()=>[t(F,{src:o.articleCover},null,8,["src"])]),_:2},1032,["to"])]),e("div",ot,[e("div",at,[t(g,{to:`/article/${o.id}`},{default:a(()=>[w(p(o.articleTitle),1)]),_:2},1032,["to"])]),e("div",st,[e("span",null,[t(L,{"icon-class":"calendar",size:"0.95rem"}),w(" "+p(A(z)(o.createTime)),1)])]),e("div",rt,[(r(!0),u(d,null,h(o.tagList,v=>(r(),y(g,{to:`/tag/${v.id}`,class:"article-tag-category",key:v.id},{default:a(()=>[t(L,{"icon-class":"tag",size:"0.8rem"}),w(" "+p(v.tagName),1)]),_:2},1032,["to"]))),128))])])]),_:2},1024))),128))]),_:1}),m.value>8?(r(),y(S,{key:0,current:n.value.current,"onUpdate:current":C[0]||(C[0]=o=>n.value.current=o),total:Math.ceil(m.value/8)},null,8,["current","total"])):K("",!0)]),loading:a(()=>[t(x,{"x-gap":"20","y-gap":"20",cols:"1 s:2 m:3 l:4",responsive:"screen"},{default:a(()=>[(r(),u(d,null,h([1,2,3,4,5,6],o=>t(b,{class:"article-item",key:o},{default:a(()=>[t(i,{class:"article-cover"}),e("div",nt,[t(i,{round:"",class:"article-title",style:{width:"12rem"}}),t(i,{round:"",class:"article-time mb10",style:{width:"6rem"}}),t($,{justify:"start"},{default:a(()=>[t(i,{round:"",style:{width:"4rem"}}),t(i,{round:"",style:{width:"4rem"}}),t(i,{round:"",style:{width:"4rem"}})]),_:1})])]),_:2},1024)),64))]),_:1})]),_:1},8,["status"])])])],64)}}});const Ht=T(it,[["__scopeId","data-v-8509d13c"]]);export{Ht as default};

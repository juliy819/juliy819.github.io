import{g as k,u as L,i as d,a as $,b as I}from"./index-46ecffbd.js";import{g as N}from"./@vueuse-4d6fb19c.js";import{u as O,i as z,a as B,b as E,c as R,d as D,e as T,f as V,g as j}from"./echarts-654753dc.js";import{l as f,r as m,b as y,w as A,R as c,S as p,H as F,f as q,aa as r,u as g,ah as i,bl as _,F as h,aL as H,aJ as J,aP as M,aO as P,j as U,b0 as v}from"./@vue-2d0ddfb4.js";import{_ as W}from"./Waves-1fa3c9bf.js";import{c as G}from"./index-f8537efa.js";import{o as K}from"./naive-ui-b87942d2.js";import"./pinia-948ba97c.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persist-4bd0ee57.js";import"./nprogress-29a3b628.js";import"./@babel-061b4810.js";import"./axios-aba6f0e0.js";import"./js-cookie-cf83ad76.js";import"./vue-router-2a5450bb.js";import"./dayjs-aaaa0bae.js";import"./swiper-d1934b6f.js";import"./ssr-window-c9202916.js";import"./@kangc-6220f0f5.js";import"./vue-a1bd1397.js";import"./markdown-it-emoji-4f1b57fa.js";import"./prismjs-08ac3f6b.js";import"./v-viewer-8afc779e.js";import"./viewerjs-3fd8af48.js";import"./vueuc-27e3b830.js";import"./evtd-b614532e.js";import"./seemly-76b7b838.js";import"./@css-render-c34b42f4.js";import"./vooks-d838407f.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-0dc9900e.js";import"./treemate-25c27bff.js";import"./async-validator-dee29e8b.js";import"./date-fns-975a2d8f.js";import"./zrender-d7f7ee45.js";import"./tslib-54e39b60.js";O([z,B,E,R,D,T,V]);const Q=f({__name:"Echarts",props:{options:{type:Object,default:{},required:!0},width:{type:String,default:"100%"},height:{type:String,default:"400px"}},setup(o){const n=o,s=m(),t=m();return y(()=>{t.value=j.init(s.value,void 0,{renderer:"svg"}),t.value.setOption(n.options,!0),N(s.value,()=>{var e;(e=t.value)==null||e.resize()})}),A(()=>n.options,e=>{var a;(a=t.value)==null||a.setOption(e)},{deep:!0}),(e,a)=>(c(),p("div",{ref_key:"chartDom",ref:s,style:F({width:o.width,height:o.height})},null,4))}}),X=o=>(H("data-v-fa1d02bf"),o=o(),J(),o),Y={class:"page-header"},Z=X(()=>r("h1",{class:"page-title"},"åˆ†ç±»",-1)),tt=["src"],et={class:"bg"},at={class:"page-container"},ot={class:"category-list"},st={class:"category-count"},rt=f({__name:"index",setup(o){const n=k();let s=q({textStyle:{color:"var(--grey-0)"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},title:{text:"æ–‡ç« åˆ†ç±»ç»Ÿè®¡å›¾ðŸŽ‰",x:"center",textStyle:{color:"var(--grey-9)"}},legend:{top:"bottom",textStyle:{color:"var(--grey-6)"}},series:[{name:"åˆ†ç±»ç»Ÿè®¡",type:"pie",radius:[35,130],center:["50%","47%"],roseType:"area",itemStyle:{borderRadius:6},label:{color:"var(--grey-6)"},emphasis:{label:{show:!0,fontSize:"20",fontWeight:"bold"}},data:[]}]});const t=m(0),e=m([]);return y(()=>{if(L().local){if(d.value.length===0){t.value=2;return}e.value=d.value,e.value.forEach(a=>{s.series[0].data.push({value:a.articleCount,name:a.categoryName})}),t.value=1;return}G.getCategoryList().then(({data:a})=>{e.value=a.data,a.data!==null&&a.data.forEach(u=>{s.series[0].data.push({value:u.articleCount,name:u.categoryName})}),e.value.length>0?t.value=1:t.value=2}).catch(()=>{t.value=-1})}),(a,u)=>{const b=W,x=Q,S=M("router-link"),w=K,C=$;return c(),p(h,null,[r("div",Y,[Z,r("img",{class:"page-cover",src:g(n),alt:""},null,8,tt),i(b)]),r("div",et,[r("div",at,[i(C,{status:t.value,"no-data-msg":"æš‚æ—¶è¿˜æ²¡æœ‰åˆ†ç±»å“¦~","failed-msg":"åˆ†ç±»åŠ è½½å¤±è´¥"},{data:_(()=>[i(x,{class:"echarts",options:g(s)},null,8,["options"]),r("ul",ot,[(c(!0),p(h,null,P(e.value,l=>(c(),p("li",{class:"category-item",key:l.id},[i(S,{to:`/category/${l.id}`},{default:_(()=>[U(v(l.categoryName),1)]),_:2},1032,["to"]),r("span",st,"("+v(l.articleCount)+")",1)]))),128))])]),loading:_(()=>[i(w,{text:"",round:"",repeat:5})]),_:1},8,["status"])])])],64)}}});const Pt=I(rt,[["__scopeId","data-v-fa1d02bf"]]);export{Pt as default};
